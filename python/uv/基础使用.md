

---

# 🌱 uv 基础命令速查

## 1. 初始化项目

```bash
uv init
```

- 创建一个新的 Python 项目目录，生成 `pyproject.toml` 文件。
    
- 类似 `poetry init`，用于正式的项目管理。
    

---

## 2. 管理虚拟环境

```bash
uv venv
```

- 在当前目录下创建一个 `.venv` 目录作为虚拟环境。
    
- 如果你不想放在项目里，可以指定路径：
    
    ```bash
    uv venv /path/to/env
    ```
    

```bash
uv venv --python 3.10
```

- 用指定版本的 Python 创建虚拟环境。
    

---

## 3. 安装和移除依赖

```bash
uv add requests
```

- 添加 `requests` 到依赖，同时更新 `pyproject.toml` 和 `uv.lock`。
    
- 默认会安装最新版本。
    

```bash
uv add "numpy<1.24"
```

- 添加并指定版本约束。
    

```bash
uv remove requests
```

- 移除依赖，同时更新配置文件。
    

---

## 4. 同步依赖

```bash
uv sync
```

- 根据 `pyproject.toml` 和 `uv.lock` 安装/更新依赖。
    
- 作用类似：
    
    - `pip install -r requirements.txt`
        
    - `pip-tools` 的 `pip-sync`
        
- 保证团队里所有人用的环境完全一致。
    

---

## 5. 兼容 pip 命令

`uv` 内置了一个兼容层，可以直接当作 `pip` 用：

```bash
uv pip install requests
uv pip uninstall requests
uv pip list
uv pip freeze
uv pip show requests
```

等价于 `pip` 的行为，但速度更快、解析更高效。

---

## 6. 典型工作流示例

假设你要从零开始一个项目：

```bash
# 1. 初始化项目
uv init myproject
cd myproject

# 2. 创建虚拟环境
uv venv

# 3. 添加依赖
uv add numpy pandas matplotlib

# 4. 移除依赖
uv remove matplotlib

# 5. 同步依赖（团队协作时常用）
uv sync

# 6. 需要 pip 的老习惯也行
uv pip install scipy
```

---

✨ 总结：

- `uv init` → 初始化项目
    
- `uv venv` → 创建虚拟环境
    
- `uv add/remove` → 管理依赖
    
- `uv sync` → 根据锁文件同步环境
    
- `uv pip ...` → 完全兼容 pip
    

---
